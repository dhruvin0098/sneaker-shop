{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <!-- Title -->
    <h2 class="text-center mb-4">Our Sneaker Collection</h2>

    <!-- Search and Filter Form -->
    <form method="GET" action="{{ url_for('products') }}" class="row g-3 mb-4">
        <div class="col-md-4">
            <input type="text" name="query" class="form-control" placeholder="Search for products..." value="{{ query }}">
        </div>
        <div class="col-md-3">
            <input type="number" name="min_price" class="form-control" placeholder="Min Price" value="{{ min_price }}">
        </div>
        <div class="col-md-3">
            <input type="number" name="max_price" class="form-control" placeholder="Max Price" value="{{ max_price }}">
        </div>
        <div class="col-md-2">
            <button type="submit" class="btn btn-primary w-100">Search</button>
        </div>
    </form>

    <!-- Products Grid -->
    <div class="row">
        {% for product in products %}
        <div class="col-md-3 mb-4">
            <!-- Clickable Card -->
            <a href="{{ url_for('product_details', product_id=product._id) }}" class="text-decoration-none text-dark">
                <div class="card h-100 shadow-sm border-0 hover-scale">
                    <!-- Product Image -->
                    <div style="height: 250px; overflow: hidden;">
                        <img src="{{ product.images[0] }}" class="card-img-top" alt="{{ product.name }}"
                             style="object-fit: cover; width: 100%; height: 100%;">
                    </div>
                    <!-- Product Details -->
                    <div class="card-body text-center">
                        <h5 class="card-title mb-2">{{ product.name }}</h5>
                        <p class="card-text text-muted">${{ product.price }}</p>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
